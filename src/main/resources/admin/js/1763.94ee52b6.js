"use strict";(self["webpackChunkhalo_admin"]=self["webpackChunkhalo_admin"]||[]).push([[1763],{43349:function(t,e,r){r.d(e,{a:function(){return a}});var n=r(96225);function a(t,e){var r=t.append("foreignObject").attr("width","100000"),a=r.append("xhtml:div");a.attr("xmlns","http://www.w3.org/1999/xhtml");var o=e.label;switch(typeof o){case"function":a.insert(o);break;case"object":a.insert((function(){return o}));break;default:a.html(o)}n.bg(a,e.labelStyle),a.style("display","inline-block"),a.style("white-space","nowrap");var i=a.node().getBoundingClientRect();return r.attr("width",i.width).attr("height",i.height),r}},96225:function(t,e,r){r.d(e,{$p:function(){return c},O1:function(){return i},WR:function(){return h},bF:function(){return o},bg:function(){return d}});var n=r(37514),a=r(73234);function o(t,e){return!!t.children(e).length}function i(t){return s(t.v)+":"+s(t.w)+":"+s(t.name)}var l=/:/g;function s(t){return t?String(t).replace(l,"\\:"):""}function d(t,e){e&&t.attr("style",e)}function c(t,e,r){e&&t.attr("class",e).attr("class",r+" "+t.attr("class"))}function h(t,e){var r=e.graph();if(n.Z(r)){var o=r.transition;if(a.Z(o))return o(t)}return t}},1763:function(t,e,r){r.d(e,{diagram:function(){return Nt}});var n=r(88955),a=r(45625),o=r(64218),i=r(85322),l=r(17452),s=r(3688),d=r(70870),c=r(41644),h=r(96225),u={normal:f,vee:g,undirected:b};function p(t){u=t}function f(t,e,r,n){var a=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),o=a.append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");h.bg(o,r[n+"Style"]),r[n+"Class"]&&o.attr("class",r[n+"Class"])}function g(t,e,r,n){var a=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),o=a.append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");h.bg(o,r[n+"Style"]),r[n+"Class"]&&o.attr("class",r[n+"Class"])}function b(t,e,r,n){var a=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),o=a.append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");h.bg(o,r[n+"Style"]),r[n+"Class"]&&o.attr("class",r[n+"Class"])}var y=r(43349);function w(t,e){var r=t;return r.node().appendChild(e.label),h.bg(r,e.labelStyle),r}function x(t,e){for(var r=t.append("text"),n=v(e.label).split("\n"),a=0;a<n.length;a++)r.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(n[a]);return h.bg(r,e.labelStyle),r}function v(t){for(var e,r="",n=!1,a=0;a<t.length;++a)if(e=t[a],n){switch(e){case"n":r+="\n";break;default:r+=e}n=!1}else"\\"===e?n=!0:r+=e;return r}function k(t,e,r){var n=e.label,a=t.append("g");"svg"===e.labelType?w(a,e):"string"!==typeof n||"html"===e.labelType?(0,y.a)(a,e):x(a,e);var o,i=a.node().getBBox();switch(r){case"top":o=-e.height/2;break;case"bottom":o=e.height/2-i.height;break;default:o=-i.height/2}return a.attr("transform","translate("+-i.width/2+","+o+")"),a}var m=function(t,e){var r=e.nodes().filter((function(t){return h.bF(e,t)})),n=t.selectAll("g.cluster").data(r,(function(t){return t}));h.WR(n.exit(),e).style("opacity",0).remove();var a=n.enter().append("g").attr("class","cluster").attr("id",(function(t){var r=e.node(t);return r.id})).style("opacity",0).each((function(t){var r=e.node(t),n=o.Ys(this);o.Ys(this).append("rect");var a=n.append("g").attr("class","label");k(a,r,r.clusterLabelPos)}));return n=n.merge(a),n=h.WR(n,e).style("opacity",1),n.selectAll("rect").each((function(t){var r=e.node(t),n=o.Ys(this);h.bg(n,r.style)})),n};function S(t){m=t}let _=function(t,e){var r,n=t.selectAll("g.edgeLabel").data(e.edges(),(function(t){return h.O1(t)})).classed("update",!0);return n.exit().remove(),n.enter().append("g").classed("edgeLabel",!0).style("opacity",0),n=t.selectAll("g.edgeLabel"),n.each((function(t){var r=o.Ys(this);r.select(".label").remove();var n=e.edge(t),a=k(r,e.edge(t),0).classed("label",!0),i=a.node().getBBox();n.labelId&&a.attr("id",n.labelId),l.Z(n,"width")||(n.width=i.width),l.Z(n,"height")||(n.height=i.height)})),r=n.exit?n.exit():n.selectAll(null),h.WR(r,e).style("opacity",0).remove(),n};function T(t){_=t}var L=r(66749),C=r(74379);function A(t,e){return t.intersect(e)}var E=function(t,e,r){var n=t.selectAll("g.edgePath").data(e.edges(),(function(t){return h.O1(t)})).classed("update",!0),a=R(n,e);Y(n,e);var i=void 0!==n.merge?n.merge(a):n;return h.WR(i,e).style("opacity",1),i.each((function(t){var r=o.Ys(this),n=e.edge(t);n.elem=this,n.id&&r.attr("id",n.id),h.$p(r,n["class"],(r.classed("update")?"update ":"")+"edgePath")})),i.selectAll("path.path").each((function(t){var r=e.edge(t);r.arrowheadId=L.Z("arrowhead");var n=o.Ys(this).attr("marker-end",(function(){return"url("+$(location.href,r.arrowheadId)+")"})).style("fill","none");h.WR(n,e).attr("d",(function(t){return B(e,t)})),h.bg(n,r.style)})),i.selectAll("defs *").remove(),i.selectAll("defs").each((function(t){var n=e.edge(t),a=r[n.arrowhead];a(o.Ys(this),n.arrowheadId,n,"arrowhead")})),i};function N(t){E=t}function $(t,e){var r=t.split("#")[0];return r+"#"+e}function B(t,e){var r=t.edge(e),n=t.node(e.v),a=t.node(e.w),o=r.points.slice(1,r.points.length-1);return o.unshift(A(n,o[0])),o.push(A(a,o[o.length-1])),I(r,o)}function I(t,e){var r=(o.jvg||o.YPS.line)().x((function(t){return t.x})).y((function(t){return t.y}));return(r.curve||r.interpolate)(t.curve),r(e)}function M(t){var e=t.getBBox(),r=t.ownerSVGElement.getScreenCTM().inverse().multiply(t.getScreenCTM()).translate(e.width/2,e.height/2);return{x:r.e,y:r.f}}function R(t,e){var r=t.enter().append("g").attr("class","edgePath").style("opacity",0);return r.append("path").attr("class","path").attr("d",(function(t){var r=e.edge(t),n=e.node(t.v).elem,a=C.Z(r.points.length).map((function(){return M(n)}));return I(r,a)})),r.append("defs"),r}function Y(t,e){var r=t.exit();h.WR(r,e).style("opacity",0).remove()}var Z=r(61666),D=function(t,e,r){var n,a=e.nodes().filter((function(t){return!h.bF(e,t)})),i=t.selectAll("g.node").data(a,(function(t){return t})).classed("update",!0);return i.exit().remove(),i.enter().append("g").attr("class","node").style("opacity",0),i=t.selectAll("g.node"),i.each((function(t){var n=e.node(t),a=o.Ys(this);h.$p(a,n["class"],(a.classed("update")?"update ":"")+"node"),a.select("g.label").remove();var i=a.append("g").attr("class","label"),s=k(i,n),d=r[n.shape],c=Z.Z(s.node().getBBox(),"width","height");n.elem=this,n.id&&a.attr("id",n.id),n.labelId&&i.attr("id",n.labelId),l.Z(n,"width")&&(c.width=n.width),l.Z(n,"height")&&(c.height=n.height),c.width+=n.paddingLeft+n.paddingRight,c.height+=n.paddingTop+n.paddingBottom,i.attr("transform","translate("+(n.paddingLeft-n.paddingRight)/2+","+(n.paddingTop-n.paddingBottom)/2+")");var u=o.Ys(this);u.select(".label-container").remove();var p=d(u,c,n).classed("label-container",!0);h.bg(p,n.style);var f=p.node().getBBox();n.width=f.width,n.height=f.height})),n=i.exit?i.exit():i.selectAll(null),h.WR(n,e).style("opacity",0).remove(),i};function W(t){D=t}function U(t,e){var r=t.filter((function(){return!o.Ys(this).classed("update")}));function n(t){var r=e.node(t);return"translate("+r.x+","+r.y+")"}r.attr("transform",n),h.WR(t,e).style("opacity",1).attr("transform",n),h.WR(r.selectAll("rect"),e).attr("width",(function(t){return e.node(t).width})).attr("height",(function(t){return e.node(t).height})).attr("x",(function(t){var r=e.node(t);return-r.width/2})).attr("y",(function(t){var r=e.node(t);return-r.height/2}))}function z(t,e){var r=t.filter((function(){return!o.Ys(this).classed("update")}));function n(t){var r=e.edge(t);return l.Z(r,"x")?"translate("+r.x+","+r.y+")":""}r.attr("transform",n),h.WR(t,e).style("opacity",1).attr("transform",n)}function O(t,e){var r=t.filter((function(){return!o.Ys(this).classed("update")}));function n(t){var r=e.node(t);return"translate("+r.x+","+r.y+")"}r.attr("transform",n),h.WR(t,e).style("opacity",1).attr("transform",n)}function P(t,e,r,n){var a=t.x,o=t.y,i=a-n.x,l=o-n.y,s=Math.sqrt(e*e*l*l+r*r*i*i),d=Math.abs(e*r*i/s);n.x<a&&(d=-d);var c=Math.abs(e*r*l/s);return n.y<o&&(c=-c),{x:a+d,y:o+c}}function j(t,e,r){return P(t,e,e,r)}function q(t,e,r,n){var a,o,i,l,s,d,c,h,u,p,f,g,b,y,w;if(a=e.y-t.y,i=t.x-e.x,s=e.x*t.y-t.x*e.y,u=a*r.x+i*r.y+s,p=a*n.x+i*n.y+s,(0===u||0===p||!V(u,p))&&(o=n.y-r.y,l=r.x-n.x,d=n.x*r.y-r.x*n.y,c=o*t.x+l*t.y+d,h=o*e.x+l*e.y+d,(0===c||0===h||!V(c,h))&&(f=a*l-o*i,0!==f)))return g=Math.abs(f/2),b=i*d-l*s,y=b<0?(b-g)/f:(b+g)/f,b=o*s-a*d,w=b<0?(b-g)/f:(b+g)/f,{x:y,y:w}}function V(t,e){return t*e>0}function X(t,e,r){var n=t.x,a=t.y,o=[],i=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY;e.forEach((function(t){i=Math.min(i,t.x),l=Math.min(l,t.y)}));for(var s=n-t.width/2-i,d=a-t.height/2-l,c=0;c<e.length;c++){var h=e[c],u=e[c<e.length-1?c+1:0],p=q(t,r,{x:s+h.x,y:d+h.y},{x:s+u.x,y:d+u.y});p&&o.push(p)}return o.length?(o.length>1&&o.sort((function(t,e){var n=t.x-r.x,a=t.y-r.y,o=Math.sqrt(n*n+a*a),i=e.x-r.x,l=e.y-r.y,s=Math.sqrt(i*i+l*l);return o<s?-1:o===s?0:1})),o[0]):(console.log("NO INTERSECTION FOUND, RETURN NODE CENTER",t),t)}function F(t,e){var r,n,a=t.x,o=t.y,i=e.x-a,l=e.y-o,s=t.width/2,d=t.height/2;return Math.abs(l)*s>Math.abs(i)*d?(l<0&&(d=-d),r=0===l?0:d*i/l,n=d):(i<0&&(s=-s),r=s,n=0===i?0:s*l/i),{x:a+r,y:o+n}}var G={rect:Q,ellipse:K,circle:J,diamond:tt};function H(t){G=t}function Q(t,e,r){var n=t.insert("rect",":first-child").attr("rx",r.rx).attr("ry",r.ry).attr("x",-e.width/2).attr("y",-e.height/2).attr("width",e.width).attr("height",e.height);return r.intersect=function(t){return F(r,t)},n}function K(t,e,r){var n=e.width/2,a=e.height/2,o=t.insert("ellipse",":first-child").attr("x",-e.width/2).attr("y",-e.height/2).attr("rx",n).attr("ry",a);return r.intersect=function(t){return P(r,n,a,t)},o}function J(t,e,r){var n=Math.max(e.width,e.height)/2,a=t.insert("circle",":first-child").attr("x",-e.width/2).attr("y",-e.height/2).attr("r",n);return r.intersect=function(t){return j(r,n,t)},a}function tt(t,e,r){var n=e.width*Math.SQRT2/2,a=e.height*Math.SQRT2/2,o=[{x:0,y:-a},{x:-n,y:0},{x:0,y:a},{x:n,y:0}],i=t.insert("polygon",":first-child").attr("points",o.map((function(t){return t.x+","+t.y})).join(" "));return r.intersect=function(t){return X(r,o,t)},i}function et(){var t=function(t,e){at(e);var r=it(t,"output"),n=it(r,"clusters"),a=it(r,"edgePaths"),o=_(it(r,"edgeLabels"),e),i=D(it(r,"nodes"),e,G);(0,c.bK)(e),O(i,e),z(o,e),E(a,e,u);var l=m(n,e);U(l,e),ot(e)};return t.createNodes=function(e){return arguments.length?(W(e),t):D},t.createClusters=function(e){return arguments.length?(S(e),t):m},t.createEdgeLabels=function(e){return arguments.length?(T(e),t):_},t.createEdgePaths=function(e){return arguments.length?(N(e),t):E},t.shapes=function(e){return arguments.length?(H(e),t):G},t.arrows=function(e){return arguments.length?(p(e),t):u},t}var rt={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},nt={arrowhead:"normal",curve:o.c_6};function at(t){t.nodes().forEach((function(e){var r=t.node(e);l.Z(r,"label")||t.children(e).length||(r.label=e),l.Z(r,"paddingX")&&s.Z(r,{paddingLeft:r.paddingX,paddingRight:r.paddingX}),l.Z(r,"paddingY")&&s.Z(r,{paddingTop:r.paddingY,paddingBottom:r.paddingY}),l.Z(r,"padding")&&s.Z(r,{paddingLeft:r.padding,paddingRight:r.padding,paddingTop:r.padding,paddingBottom:r.padding}),s.Z(r,rt),d.Z(["paddingLeft","paddingRight","paddingTop","paddingBottom"],(function(t){r[t]=Number(r[t])})),l.Z(r,"width")&&(r._prevWidth=r.width),l.Z(r,"height")&&(r._prevHeight=r.height)})),t.edges().forEach((function(e){var r=t.edge(e);l.Z(r,"label")||(r.label=""),s.Z(r,nt)}))}function ot(t){d.Z(t.nodes(),(function(e){var r=t.node(e);l.Z(r,"_prevWidth")?r.width=r._prevWidth:delete r.width,l.Z(r,"_prevHeight")?r.height=r._prevHeight:delete r.height,delete r._prevWidth,delete r._prevHeight}))}function it(t,e){var r=t.select("g."+e);return r.empty()&&(r=t.append("g").attr("class",e)),r}var lt=r(21358);r(87446),r(17967),r(27856),r(39354);function st(t,e,r){const n=e.width,a=e.height,o=.9*(n+a),i=[{x:o/2,y:0},{x:o,y:-o/2},{x:o/2,y:-o},{x:0,y:-o/2}],l=kt(t,o,o,i);return r.intersect=function(t){return X(r,i,t)},l}function dt(t,e,r){const n=4,a=e.height,o=a/n,i=e.width+2*o,l=[{x:o,y:0},{x:i-o,y:0},{x:i,y:-a/2},{x:i-o,y:-a},{x:o,y:-a},{x:0,y:-a/2}],s=kt(t,i,a,l);return r.intersect=function(t){return X(r,l,t)},s}function ct(t,e,r){const n=e.width,a=e.height,o=[{x:-a/2,y:0},{x:n,y:0},{x:n,y:-a},{x:-a/2,y:-a},{x:0,y:-a/2}],i=kt(t,n,a,o);return r.intersect=function(t){return X(r,o,t)},i}function ht(t,e,r){const n=e.width,a=e.height,o=[{x:-2*a/6,y:0},{x:n-a/6,y:0},{x:n+2*a/6,y:-a},{x:a/6,y:-a}],i=kt(t,n,a,o);return r.intersect=function(t){return X(r,o,t)},i}function ut(t,e,r){const n=e.width,a=e.height,o=[{x:2*a/6,y:0},{x:n+a/6,y:0},{x:n-2*a/6,y:-a},{x:-a/6,y:-a}],i=kt(t,n,a,o);return r.intersect=function(t){return X(r,o,t)},i}function pt(t,e,r){const n=e.width,a=e.height,o=[{x:-2*a/6,y:0},{x:n+2*a/6,y:0},{x:n-a/6,y:-a},{x:a/6,y:-a}],i=kt(t,n,a,o);return r.intersect=function(t){return X(r,o,t)},i}function ft(t,e,r){const n=e.width,a=e.height,o=[{x:a/6,y:0},{x:n-a/6,y:0},{x:n+2*a/6,y:-a},{x:-2*a/6,y:-a}],i=kt(t,n,a,o);return r.intersect=function(t){return X(r,o,t)},i}function gt(t,e,r){const n=e.width,a=e.height,o=[{x:0,y:0},{x:n+a/2,y:0},{x:n,y:-a/2},{x:n+a/2,y:-a},{x:0,y:-a}],i=kt(t,n,a,o);return r.intersect=function(t){return X(r,o,t)},i}function bt(t,e,r){const n=e.height,a=e.width+n/4,o=t.insert("rect",":first-child").attr("rx",n/2).attr("ry",n/2).attr("x",-a/2).attr("y",-n/2).attr("width",a).attr("height",n);return r.intersect=function(t){return F(r,t)},o}function yt(t,e,r){const n=e.width,a=e.height,o=[{x:0,y:0},{x:n,y:0},{x:n,y:-a},{x:0,y:-a},{x:0,y:0},{x:-8,y:0},{x:n+8,y:0},{x:n+8,y:-a},{x:-8,y:-a},{x:-8,y:0}],i=kt(t,n,a,o);return r.intersect=function(t){return X(r,o,t)},i}function wt(t,e,r){const n=e.width,a=n/2,o=a/(2.5+n/50),i=e.height+o,l="M 0,"+o+" a "+a+","+o+" 0,0,0 "+n+" 0 a "+a+","+o+" 0,0,0 "+-n+" 0 l 0,"+i+" a "+a+","+o+" 0,0,0 "+n+" 0 l 0,"+-i,s=t.attr("label-offset-y",o).insert("path",":first-child").attr("d",l).attr("transform","translate("+-n/2+","+-(i/2+o)+")");return r.intersect=function(t){const e=F(r,t),n=e.x-r.x;if(0!=a&&(Math.abs(n)<r.width/2||Math.abs(n)==r.width/2&&Math.abs(e.y-r.y)>r.height/2-o)){let i=o*o*(1-n*n/(a*a));0!=i&&(i=Math.sqrt(i)),i=o-i,t.y-r.y>0&&(i=-i),e.y+=i}return e},s}function xt(t){t.shapes().question=st,t.shapes().hexagon=dt,t.shapes().stadium=bt,t.shapes().subroutine=yt,t.shapes().cylinder=wt,t.shapes().rect_left_inv_arrow=ct,t.shapes().lean_right=ht,t.shapes().lean_left=ut,t.shapes().trapezoid=pt,t.shapes().inv_trapezoid=ft,t.shapes().rect_right_inv_arrow=gt}function vt(t){t({question:st}),t({hexagon:dt}),t({stadium:bt}),t({subroutine:yt}),t({cylinder:wt}),t({rect_left_inv_arrow:ct}),t({lean_right:ht}),t({lean_left:ut}),t({trapezoid:pt}),t({inv_trapezoid:ft}),t({rect_right_inv_arrow:gt})}function kt(t,e,r,n){return t.insert("polygon",":first-child").attr("points",n.map((function(t){return t.x+","+t.y})).join(" ")).attr("transform","translate("+-e/2+","+r/2+")")}const mt={addToRender:xt,addToRenderV2:vt},St={},_t=function(t){const e=Object.keys(t);for(const r of e)St[r]=t[r]},Tt=function(t,e,r,n,a,l){const s=n?n.select(`[id="${r}"]`):(0,o.Ys)(`[id="${r}"]`),d=a||document,c=Object.keys(t);c.forEach((function(r){const n=t[r];let a="default";n.classes.length>0&&(a=n.classes.join(" "));const o=(0,i.k)(n.styles);let c,h=void 0!==n.text?n.text:n.id;if((0,i.m)((0,i.c)().flowchart.htmlLabels)){const t={label:h.replace(/fa[blrs]?:fa-[\w-]+/g,(t=>`<i class='${t.replace(":"," ")}'></i>`))};c=(0,y.a)(s,t).node(),c.parentNode.removeChild(c)}else{const t=d.createElementNS("http://www.w3.org/2000/svg","text");t.setAttribute("style",o.labelStyle.replace("color:","fill:"));const e=h.split(i.e.lineBreakRegex);for(const r of e){const e=d.createElementNS("http://www.w3.org/2000/svg","tspan");e.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),e.setAttribute("dy","1em"),e.setAttribute("x","1"),e.textContent=r,t.appendChild(e)}c=t}let u=0,p="";switch(n.type){case"round":u=5,p="rect";break;case"square":p="rect";break;case"diamond":p="question";break;case"hexagon":p="hexagon";break;case"odd":p="rect_left_inv_arrow";break;case"lean_right":p="lean_right";break;case"lean_left":p="lean_left";break;case"trapezoid":p="trapezoid";break;case"inv_trapezoid":p="inv_trapezoid";break;case"odd_right":p="rect_left_inv_arrow";break;case"circle":p="circle";break;case"ellipse":p="ellipse";break;case"stadium":p="stadium";break;case"subroutine":p="subroutine";break;case"cylinder":p="cylinder";break;case"group":p="rect";break;default:p="rect"}i.l.warn("Adding node",n.id,n.domId),e.setNode(l.db.lookUpDomId(n.id),{labelType:"svg",labelStyle:o.labelStyle,shape:p,label:c,rx:u,ry:u,class:a,style:o.style,id:l.db.lookUpDomId(n.id)})}))},Lt=function(t,e,r){let n,a,l=0;if(void 0!==t.defaultStyle){const e=(0,i.k)(t.defaultStyle);n=e.style,a=e.labelStyle}t.forEach((function(s){l++;const d="L-"+s.start+"-"+s.end,c="LS-"+s.start,h="LE-"+s.end,u={};"arrow_open"===s.type?u.arrowhead="none":u.arrowhead="normal";let p="",f="";if(void 0!==s.style){const t=(0,i.k)(s.style);p=t.style,f=t.labelStyle}else switch(s.stroke){case"normal":p="fill:none",void 0!==n&&(p=n),void 0!==a&&(f=a);break;case"dotted":p="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":p=" stroke-width: 3.5px;fill:none";break}u.style=p,u.labelStyle=f,void 0!==s.interpolate?u.curve=(0,i.n)(s.interpolate,o.c_6):void 0!==t.defaultInterpolate?u.curve=(0,i.n)(t.defaultInterpolate,o.c_6):u.curve=(0,i.n)(St.curve,o.c_6),void 0===s.text?void 0!==s.style&&(u.arrowheadStyle="fill: #333"):(u.arrowheadStyle="fill: #333",u.labelpos="c",(0,i.m)((0,i.c)().flowchart.htmlLabels)?(u.labelType="html",u.label=`<span id="L-${d}" class="edgeLabel L-${c}' L-${h}" style="${u.labelStyle}">${s.text.replace(/fa[blrs]?:fa-[\w-]+/g,(t=>`<i class='${t.replace(":"," ")}'></i>`))}</span>`):(u.labelType="text",u.label=s.text.replace(i.e.lineBreakRegex,"\n"),void 0===s.style&&(u.style=u.style||"stroke: #333; stroke-width: 1.5px;fill:none"),u.labelStyle=u.labelStyle.replace("color:","fill:"))),u.id=d,u.class=c+" "+h,u.minlen=s.length||1,e.setEdge(r.db.lookUpDomId(s.start),r.db.lookUpDomId(s.end),u,l)}))},Ct=function(t,e){return i.l.info("Extracting classes"),e.db.getClasses()},At=function(t,e,r,n){i.l.info("Drawing flowchart");const{securityLevel:l,flowchart:s}=(0,i.c)();let d;"sandbox"===l&&(d=(0,o.Ys)("#i"+e));const c="sandbox"===l?(0,o.Ys)(d.nodes()[0].contentDocument.body):(0,o.Ys)("body"),u="sandbox"===l?d.nodes()[0].contentDocument:document;let p=n.db.getDirection();void 0===p&&(p="TD");const f=s.nodeSpacing||50,g=s.rankSpacing||50,b=new a.k({multigraph:!0,compound:!0}).setGraph({rankdir:p,nodesep:f,ranksep:g,marginx:8,marginy:8}).setDefaultEdgeLabel((function(){return{}}));let y;const w=n.db.getSubGraphs();for(let a=w.length-1;a>=0;a--)y=w[a],n.db.addVertex(y.id,y.title,"group",void 0,y.classes);const x=n.db.getVertices();i.l.warn("Get vertices",x);const v=n.db.getEdges();let k=0;for(k=w.length-1;k>=0;k--){y=w[k],(0,o.td_)("cluster").append("text");for(let t=0;t<y.nodes.length;t++)i.l.warn("Setting subgraph",y.nodes[t],n.db.lookUpDomId(y.nodes[t]),n.db.lookUpDomId(y.id)),b.setParent(n.db.lookUpDomId(y.nodes[t]),n.db.lookUpDomId(y.id))}Tt(x,b,e,c,u,n),Lt(v,b,n);const m=new et;mt.addToRender(m),m.arrows().none=function(t,e,r,n){const a=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),o=a.append("path").attr("d","M 0 0 L 0 0 L 0 0 z");(0,h.bg)(o,r[n+"Style"])},m.arrows().normal=function(t,e){const r=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto");r.append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowheadPath").style("stroke-width",1).style("stroke-dasharray","1,0")};const S=c.select(`[id="${e}"]`),_=c.select("#"+e+" g");for(m(_,b),_.selectAll("g.node").attr("title",(function(){return n.db.getTooltip(this.id)})),n.db.indexNodes("subGraph"+k),k=0;k<w.length;k++)if(y=w[k],"undefined"!==y.title){const t=u.querySelectorAll("#"+e+' [id="'+n.db.lookUpDomId(y.id)+'"] rect'),r=u.querySelectorAll("#"+e+' [id="'+n.db.lookUpDomId(y.id)+'"]'),a=t[0].x.baseVal.value,i=t[0].y.baseVal.value,l=t[0].width.baseVal.value,s=(0,o.Ys)(r[0]),d=s.select(".label");d.attr("transform",`translate(${a+l/2}, ${i+14})`),d.attr("id",e+"Text");for(let e=0;e<y.classes.length;e++)r[0].classList.add(y.classes[e])}if(!s.htmlLabels){const t=u.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(const e of t){const t=e.getBBox(),r=u.createElementNS("http://www.w3.org/2000/svg","rect");r.setAttribute("rx",0),r.setAttribute("ry",0),r.setAttribute("width",t.width),r.setAttribute("height",t.height),e.insertBefore(r,e.firstChild)}}(0,i.o)(b,S,s.diagramPadding,s.useMaxWidth);const T=Object.keys(x);T.forEach((function(t){const r=x[t];if(r.link){const a=c.select("#"+e+' [id="'+n.db.lookUpDomId(t)+'"]');if(a){const t=u.createElementNS("http://www.w3.org/2000/svg","a");t.setAttributeNS("http://www.w3.org/2000/svg","class",r.classes.join(" ")),t.setAttributeNS("http://www.w3.org/2000/svg","href",r.link),t.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),"sandbox"===l?t.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):r.linkTarget&&t.setAttributeNS("http://www.w3.org/2000/svg","target",r.linkTarget);const e=a.insert((function(){return t}),":first-child"),n=a.select(".label-container");n&&e.append((function(){return n.node()}));const o=a.select(".label");o&&e.append((function(){return o.node()}))}}}))},Et={setConf:_t,addVertices:Tt,addEdges:Lt,getClasses:Ct,draw:At},Nt={parser:n.p,db:n.f,renderer:lt.f,styles:lt.a,init:t=>{t.flowchart||(t.flowchart={}),t.flowchart.arrowMarkerAbsolute=t.arrowMarkerAbsolute,Et.setConf(t.flowchart),n.f.clear(),n.f.setGen("gen-1")}}},21358:function(t,e,r){r.d(e,{a:function(){return m},f:function(){return x}});var n=r(45625),a=r(64218),o=r(85322),i=r(87936),l=r(43349),s=r(61691),d=r(71610);const c=(t,e)=>s.Z.lang.round(d.Z.parse(t)[e]);var h=c,u=r(51117);const p={},f=function(t){const e=Object.keys(t);for(const r of e)p[r]=t[r]},g=function(t,e,r,n,a,i){const s=n.select(`[id="${r}"]`),d=Object.keys(t);d.forEach((function(r){const n=t[r];let d="default";n.classes.length>0&&(d=n.classes.join(" ")),d+=" flowchart-label";const c=(0,o.k)(n.styles);let h,u=void 0!==n.text?n.text:n.id;if(o.l.info("vertex",n,n.labelType),"markdown"===n.labelType)o.l.info("vertex",n,n.labelType);else if((0,o.m)((0,o.c)().flowchart.htmlLabels)){const t={label:u.replace(/fa[blrs]?:fa-[\w-]+/g,(t=>`<i class='${t.replace(":"," ")}'></i>`))};h=(0,l.a)(s,t).node(),h.parentNode.removeChild(h)}else{const t=a.createElementNS("http://www.w3.org/2000/svg","text");t.setAttribute("style",c.labelStyle.replace("color:","fill:"));const e=u.split(o.e.lineBreakRegex);for(const r of e){const e=a.createElementNS("http://www.w3.org/2000/svg","tspan");e.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),e.setAttribute("dy","1em"),e.setAttribute("x","1"),e.textContent=r,t.appendChild(e)}h=t}let p=0,f="";switch(n.type){case"round":p=5,f="rect";break;case"square":f="rect";break;case"diamond":f="question";break;case"hexagon":f="hexagon";break;case"odd":f="rect_left_inv_arrow";break;case"lean_right":f="lean_right";break;case"lean_left":f="lean_left";break;case"trapezoid":f="trapezoid";break;case"inv_trapezoid":f="inv_trapezoid";break;case"odd_right":f="rect_left_inv_arrow";break;case"circle":f="circle";break;case"ellipse":f="ellipse";break;case"stadium":f="stadium";break;case"subroutine":f="subroutine";break;case"cylinder":f="cylinder";break;case"group":f="rect";break;case"doublecircle":f="doublecircle";break;default:f="rect"}e.setNode(n.id,{labelStyle:c.labelStyle,shape:f,labelText:u,labelType:n.labelType,rx:p,ry:p,class:d,style:c.style,id:n.id,link:n.link,linkTarget:n.linkTarget,tooltip:i.db.getTooltip(n.id)||"",domId:i.db.lookUpDomId(n.id),haveCallback:n.haveCallback,width:"group"===n.type?500:void 0,dir:n.dir,type:n.type,props:n.props,padding:(0,o.c)().flowchart.padding}),o.l.info("setNode",{labelStyle:c.labelStyle,labelType:n.labelType,shape:f,labelText:u,rx:p,ry:p,class:d,style:c.style,id:n.id,domId:i.db.lookUpDomId(n.id),width:"group"===n.type?500:void 0,type:n.type,dir:n.dir,props:n.props,padding:(0,o.c)().flowchart.padding})}))},b=function(t,e,r){o.l.info("abc78 edges = ",t);let n,i,l=0,s={};if(void 0!==t.defaultStyle){const e=(0,o.k)(t.defaultStyle);n=e.style,i=e.labelStyle}t.forEach((function(r){l++;const d="L-"+r.start+"-"+r.end;void 0===s[d]?(s[d]=0,o.l.info("abc78 new entry",d,s[d])):(s[d]++,o.l.info("abc78 new entry",d,s[d]));let c=d+"-"+s[d];o.l.info("abc78 new link id to be used is",d,c,s[d]);const h="LS-"+r.start,u="LE-"+r.end,f={style:"",labelStyle:""};switch(f.minlen=r.length||1,"arrow_open"===r.type?f.arrowhead="none":f.arrowhead="normal",f.arrowTypeStart="arrow_open",f.arrowTypeEnd="arrow_open",r.type){case"double_arrow_cross":f.arrowTypeStart="arrow_cross";case"arrow_cross":f.arrowTypeEnd="arrow_cross";break;case"double_arrow_point":f.arrowTypeStart="arrow_point";case"arrow_point":f.arrowTypeEnd="arrow_point";break;case"double_arrow_circle":f.arrowTypeStart="arrow_circle";case"arrow_circle":f.arrowTypeEnd="arrow_circle";break}let g="",b="";switch(r.stroke){case"normal":g="fill:none;",void 0!==n&&(g=n),void 0!==i&&(b=i),f.thickness="normal",f.pattern="solid";break;case"dotted":f.thickness="normal",f.pattern="dotted",f.style="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":f.thickness="thick",f.pattern="solid",f.style="stroke-width: 3.5px;fill:none;";break;case"invisible":f.thickness="invisible",f.pattern="solid",f.style="stroke-width: 0;fill:none;";break}if(void 0!==r.style){const t=(0,o.k)(r.style);g=t.style,b=t.labelStyle}f.style=f.style+=g,f.labelStyle=f.labelStyle+=b,void 0!==r.interpolate?f.curve=(0,o.n)(r.interpolate,a.c_6):void 0!==t.defaultInterpolate?f.curve=(0,o.n)(t.defaultInterpolate,a.c_6):f.curve=(0,o.n)(p.curve,a.c_6),void 0===r.text?void 0!==r.style&&(f.arrowheadStyle="fill: #333"):(f.arrowheadStyle="fill: #333",f.labelpos="c"),f.labelType=r.labelType,f.label=r.text.replace(o.e.lineBreakRegex,"\n"),void 0===r.style&&(f.style=f.style||"stroke: #333; stroke-width: 1.5px;fill:none;"),f.labelStyle=f.labelStyle.replace("color:","fill:"),f.id=c,f.classes="flowchart-link "+h+" "+u,e.setEdge(r.start,r.end,f,l)}))},y=function(t,e){return e.db.getClasses()},w=async function(t,e,r,l){o.l.info("Drawing flowchart");let s=l.db.getDirection();void 0===s&&(s="TD");const{securityLevel:d,flowchart:c}=(0,o.c)(),h=c.nodeSpacing||50,u=c.rankSpacing||50;let p;"sandbox"===d&&(p=(0,a.Ys)("#i"+e));const f="sandbox"===d?(0,a.Ys)(p.nodes()[0].contentDocument.body):(0,a.Ys)("body"),y="sandbox"===d?p.nodes()[0].contentDocument:document,w=new n.k({multigraph:!0,compound:!0}).setGraph({rankdir:s,nodesep:h,ranksep:u,marginx:0,marginy:0}).setDefaultEdgeLabel((function(){return{}}));let x;const v=l.db.getSubGraphs();o.l.info("Subgraphs - ",v);for(let n=v.length-1;n>=0;n--)x=v[n],o.l.info("Subgraph - ",x),l.db.addVertex(x.id,{text:x.title,type:x.labelType},"group",void 0,x.classes,x.dir);const k=l.db.getVertices(),m=l.db.getEdges();o.l.info("Edges",m);let S=0;for(S=v.length-1;S>=0;S--){x=v[S],(0,a.td_)("cluster").append("text");for(let t=0;t<x.nodes.length;t++)o.l.info("Setting up subgraphs",x.nodes[t],x.id),w.setParent(x.nodes[t],x.id)}g(k,w,e,f,y,l),b(m,w);const _=f.select(`[id="${e}"]`),T=f.select("#"+e+" g");if(await(0,i.r)(T,w,["point","circle","cross"],"flowchart",e),o.u.insertTitle(_,"flowchartTitleText",c.titleTopMargin,l.db.getDiagramTitle()),(0,o.o)(w,_,c.diagramPadding,c.useMaxWidth),l.db.indexNodes("subGraph"+S),!c.htmlLabels){const t=y.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(const e of t){const t=e.getBBox(),r=y.createElementNS("http://www.w3.org/2000/svg","rect");r.setAttribute("rx",0),r.setAttribute("ry",0),r.setAttribute("width",t.width),r.setAttribute("height",t.height),e.insertBefore(r,e.firstChild)}}const L=Object.keys(k);L.forEach((function(t){const r=k[t];if(r.link){const n=(0,a.Ys)("#"+e+' [id="'+t+'"]');if(n){const t=y.createElementNS("http://www.w3.org/2000/svg","a");t.setAttributeNS("http://www.w3.org/2000/svg","class",r.classes.join(" ")),t.setAttributeNS("http://www.w3.org/2000/svg","href",r.link),t.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),"sandbox"===d?t.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):r.linkTarget&&t.setAttributeNS("http://www.w3.org/2000/svg","target",r.linkTarget);const e=n.insert((function(){return t}),":first-child"),a=n.select(".label-container");a&&e.append((function(){return a.node()}));const o=n.select(".label");o&&e.append((function(){return o.node()}))}}}))},x={setConf:f,addVertices:g,addEdges:b,getClasses:y,draw:w},v=(t,e)=>{const r=h,n=r(t,"r"),a=r(t,"g"),o=r(t,"b");return u.Z(n,a,o,e)},k=t=>`.label {\n    font-family: ${t.fontFamily};\n    color: ${t.nodeTextColor||t.textColor};\n  }\n  .cluster-label text {\n    fill: ${t.titleColor};\n  }\n  .cluster-label span,p {\n    color: ${t.titleColor};\n  }\n\n  .label text,span,p {\n    fill: ${t.nodeTextColor||t.textColor};\n    color: ${t.nodeTextColor||t.textColor};\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${t.mainBkg};\n    stroke: ${t.nodeBorder};\n    stroke-width: 1px;\n  }\n  .flowchart-label text {\n    text-anchor: middle;\n  }\n  // .flowchart-label .text-outer-tspan {\n  //   text-anchor: middle;\n  // }\n  // .flowchart-label .text-inner-tspan {\n  //   text-anchor: start;\n  // }\n\n  .node .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n  .arrowheadPath {\n    fill: ${t.arrowheadColor};\n  }\n\n  .edgePath .path {\n    stroke: ${t.lineColor};\n    stroke-width: 2.0px;\n  }\n\n  .flowchart-link {\n    stroke: ${t.lineColor};\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ${t.edgeLabelBackground};\n    rect {\n      opacity: 0.5;\n      background-color: ${t.edgeLabelBackground};\n      fill: ${t.edgeLabelBackground};\n    }\n    text-align: center;\n  }\n\n  /* For html labels only */\n  .labelBkg {\n    background-color: ${v(t.edgeLabelBackground,.5)};\n    // background-color: \n  }\n\n  .cluster rect {\n    fill: ${t.clusterBkg};\n    stroke: ${t.clusterBorder};\n    stroke-width: 1px;\n  }\n\n  .cluster text {\n    fill: ${t.titleColor};\n  }\n\n  .cluster span,p {\n    color: ${t.titleColor};\n  }\n  /* .cluster div {\n    color: ${t.titleColor};\n  } */\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: ${t.fontFamily};\n    font-size: 12px;\n    background: ${t.tertiaryColor};\n    border: 1px solid ${t.border2};\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n\n  .flowchartTitleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ${t.textColor};\n  }\n`,m=k}}]);